<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#030305">
    
    <title>SNORKY SITE - Offisiell Hub</title>
    <meta name="description" content="Den offisielle nettsiden til Snorky. Se de nyeste gaming-videoene, shorts, statistikk og setups. En hub for alt Snorky-innhold.">
    <meta name="keywords" content="Snorky, Norsk YouTuber, Gaming, Minecraft, Funny Moments, Snorky2361, Snorky Site, Videoer">
    <meta name="author" content="Snorky">
    <meta name="robots" content="index, follow">
    
    <link rel="icon" type="image/png" href="logo.png">
    <link rel="apple-touch-icon" href="logo.png">
    <link rel="shortcut icon" href="logo.png">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://snorky.site/">
    <meta property="og:title" content="SNORKY SITE">
    <meta property="og:description" content="Ingen regler, bare gaming. Sjekk ut den offisielle huben.">
    <meta property="og:image" content="logo.png">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://i.ytimg.com">
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Space+Grotesk:wght@500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* -----------------------------------------------------------
           1. CORE SYSTEM
        ----------------------------------------------------------- */
        :root {
            --bg: #030305;
            --surface: #0a0a0f;
            --surface-glass: rgba(15, 15, 20, 0.7); 
            --border: rgba(255, 255, 255, 0.08);
            --snorky-blue: #00C2FF;  
            --snorky-pink: #FF2E93;  
            --yt-red: #FF0000;
            --accent-gradient: linear-gradient(135deg, var(--snorky-blue), var(--snorky-pink));
            --radius: 24px;
        }
        
        /* Disable text selection globally for extra protection feel */
        body {
            -webkit-user-select: none; /* Safari */
            -ms-user-select: none; /* IE 10 and IE 11 */
            user-select: none; /* Standard syntax */
        }
        
        /* Allow selection on inputs and paragraphs if needed, but mostly locked */
        input, textarea { user-select: text; }
        
        html { scroll-behavior: smooth !important; height: 100%; }
        html.lenis, html.lenis body { height: auto; }
        .lenis.lenis-smooth { scroll-behavior: auto !important; }
        .lenis.lenis-stopped { overflow: hidden; }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        :focus-visible {
            outline: 2px solid var(--snorky-blue);
            outline-offset: 4px;
            box-shadow: 0 0 15px var(--snorky-blue);
        }

        body {
            background-color: var(--bg);
            color: #fff;
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            font-size: 16px; 
            padding-bottom: 80px; 
        }
        
        @media(min-width: 1025px) { body { padding-bottom: 0; } }
        @media (min-width: 2000px) {
            body { font-size: 20px; }
            .container { max-width: 1800px; }
        }

        ::-webkit-scrollbar { width: 8px; background: var(--bg); }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; border: 2px solid var(--bg); }
        ::-webkit-scrollbar-thumb:hover { background: var(--snorky-blue); }

        body.no-blur * { backdrop-filter: none !important; -webkit-backdrop-filter: none !important; }
        body.no-blur nav, body.no-blur .video-card-premium, body.no-blur .mobile-bottom-nav { 
            background: #0a0a0f; opacity: 0.98;
        }
        
        .reveal { opacity: 0; transform: translateY(30px); transition: all 0.8s cubic-bezier(0.2, 1, 0.3, 1); }
        .reveal.active { opacity: 1; transform: translateY(0); }

        .tap-effect { transition: transform 0.1s cubic-bezier(0.4, 0, 0.2, 1); cursor: pointer; }
        .tap-effect:active { transform: scale(0.96); }

        .scroll-progress {
            position: fixed; top: 0; left: 0; height: 3px; width: 0%;
            background: linear-gradient(90deg, var(--snorky-blue), var(--snorky-pink)); 
            z-index: 2000; box-shadow: 0 0 15px var(--snorky-blue);
            transition: width 0.1s linear; display: none;
        }

        /* --- PRELOADER --- */
        .preloader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 99999;
            display: flex; justify-content: center; align-items: center; flex-direction: column;
            transition: transform 0.8s ease-in-out;
        }
        .preloader-bar { width: 150px; height: 3px; background: rgba(255,255,255,0.1); margin-top: 20px; position: relative; overflow: hidden; border-radius: 10px; }
        .preloader-bar::after { content: ''; position: absolute; top: 0; left: 0; height: 100%; width: 50%; background: var(--accent-gradient); animation: loadBar 1s infinite ease-in-out; }
        @keyframes loadBar { 0% { left: -50%; } 100% { left: 100%; } }
        .preloader.hide { transform: translateY(-100%); }

        /* --- BACKGROUNDS --- */
        #particle-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; opacity: 0.5; }
        .noise { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: url('https://grainy-gradients.vercel.app/noise.svg'); opacity: 0.04; pointer-events: none; z-index: 9990; mix-blend-mode: overlay; }
        .ambient-orb { display: none !important; } 

        .cyber-grid {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -3;
            background-image: linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
            linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 60px 60px;
            mask-image: radial-gradient(circle at center, black 30%, transparent 80%);
            -webkit-mask-image: radial-gradient(circle at center, black 30%, transparent 80%);
            transform: perspective(800px) rotateX(15deg) scale(1.2);
            opacity: 0.3;
            pointer-events: none;
        }

        /* --- TYPOGRAPHY --- */
        h1, h2, h3, h4 { font-family: 'Space Grotesk', sans-serif; font-weight: 700; line-height: 1.1; letter-spacing: -0.02em; }
        
        .section-header { 
            font-size: clamp(2.5rem, 6vw, 4rem); margin-bottom: 25px; 
            background: linear-gradient(to bottom, #fff, #a5b4fc); -webkit-background-clip: text; color: transparent;
            padding-bottom: 10px; 
            filter: drop-shadow(0 0 20px rgba(255,255,255,0.1));
        }
        
        .subtitle { 
            font-size: 0.8rem; text-transform: uppercase; letter-spacing: 2px; 
            color: var(--snorky-blue); margin-bottom: 15px; display: flex; align-items: center; gap: 10px; font-weight: 700;
        }
        .subtitle::before { content: ''; width: 20px; height: 2px; background: var(--snorky-pink); display: block; box-shadow: 0 0 10px var(--snorky-pink); }
        .container { max-width: 1300px; margin: 0 auto; padding: 0 40px; }

        /* --- DESKTOP NAV --- */
        nav {
            position: fixed; top: 20px; left: 50%; transform: translateX(-50%); 
            width: 95%; max-width: 1200px; z-index: 1000; 
            padding: 10px 30px; transition: 0.3s;
            background: rgba(5, 5, 8, 0.6); 
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 100px;
            box-shadow: 0 20px 40px -10px rgba(0,0,0,0.4); 
        }
        .nav-inner { display: flex; justify-content: space-between; align-items: center; padding: 0; max-width: 100%; margin: 0; }
        .nav-brand img { height: 28px; transition: 0.3s; filter: drop-shadow(0 0 8px rgba(0, 194, 255, 0.4)); }
        
        /* LOGO POINTER */
        .nav-brand { cursor: pointer; }

        .nav-links { display: flex; align-items: center; gap: 30px; list-style: none; margin: 0; padding: 0; }
        
        .nav-links a.text-link { 
            color: #aaa; text-decoration: none; font-weight: 500; font-size: 0.9rem;
            transition: 0.3s; position: relative; padding: 5px 0; display: flex; align-items: center; gap: 8px;
        }
        
        .nav-links a.text-link::after {
            content: ''; position: absolute; bottom: 0; left: 50%; width: 0; height: 2px;
            background: var(--snorky-blue); transition: all 0.3s ease; transform: translateX(-50%);
            box-shadow: 0 0 8px var(--snorky-blue);
        }
        .nav-links a.text-link:hover::after { width: 100%; }
        
        .nav-links a.text-link:hover { color: #fff; }
        .nav-links a.text-link i { font-size: 0.8rem; color: var(--snorky-blue); transition: 0.3s; opacity: 0.6; }
        .nav-links a.text-link:hover i { transform: scale(1.1); opacity: 1; }

        .settings-btn { 
            color: #fff; font-size: 1rem; cursor: pointer; transition: 0.3s; 
            padding: 8px; background: rgba(255,255,255,0.03); border-radius: 50%; width: 38px; height: 38px;
            display: flex; align-items: center; justify-content: center; border: 1px solid rgba(255,255,255,0.05);
        }
        .settings-btn:hover { transform: rotate(45deg); background: rgba(255,255,255,0.1); border-color: rgba(255,255,255,0.2); }

        .nav-sub-btn {
            background-color: #cc0000; color: #fff; text-decoration: none; padding: 10px 24px;
            border-radius: 50px; font-weight: 600; font-size: 0.85rem; display: flex; align-items: center; gap: 8px;
            transition: 0.3s; border: 1px solid rgba(255,255,255,0.1); position: relative; overflow: hidden; 
            box-shadow: 0 0 15px rgba(204, 0, 0, 0.4);
        }
        .nav-sub-btn:hover { background-color: #ff0000; transform: translateY(-1px); box-shadow: 0 0 25px rgba(255, 0, 0, 0.6); }
        .nav-sub-btn::before {
            content: ''; position: absolute; top: 0; left: -100%; width: 40px; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.8), transparent);
            transform: skewX(-20deg); transition: 0s; z-index: 2;
        }
        .nav-sub-btn:hover::before {
            left: 150%; transition: 0.6s ease;
        }

        /* MOBIL ELEMENTER */
        .mobile-header { display: none; }
        .mobile-menu-overlay { display: none; }
        .mobile-bottom-nav { display: none; }

        /* --- HERO --- */
        .hero { 
            height: 100vh; position: relative; overflow: hidden; 
            display: flex; align-items: center; justify-content: center; text-align: center; 
        }
        
        .hero::after {
            content: ''; position: absolute; inset: 0; z-index: 1;
            background: radial-gradient(circle at center, transparent 0%, rgba(3,3,5,0.4) 60%, #030305 100%);
            pointer-events: none;
        }

        .marquee-container {
            position: absolute; inset: 0; z-index: -1; display: flex; flex-direction: column; justify-content: center; gap: 30px;
            transform: rotate(-5deg) scale(1.5) translate3d(0,0,0); 
            opacity: 1; pointer-events: none;
            will-change: transform;
        }
        .marquee-row { display: flex; gap: 30px; width: max-content; }
        
        /* SMOOTH INFINITE LOOP ANIMATION */
        .scroll-left { animation: scroll 120s linear infinite; }
        .scroll-right { animation: scrollReverse 120s linear infinite; }
        
        .marquee-item { 
            width: 300px; aspect-ratio: 16/9; border-radius: 12px; overflow: hidden; transition: 0.5s; 
            opacity: 0.5; 
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.5); 
            filter: brightness(0.6) saturate(1.2); 
            border: 1px solid rgba(255, 255, 255, 0.03);
        }
        
        @keyframes scroll { from { transform: translate3d(0,0,0); } to { transform: translate3d(-50%,0,0); } }
        @keyframes scrollReverse { from { transform: translate3d(-50%,0,0); } to { transform: translate3d(0,0,0); } }

        .hero-overlay { 
            position: relative; z-index: 2; width: 100%; height: 100%;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            padding: 20px;
            background: transparent; 
            backdrop-filter: none;
        }
        
        .hero-title { 
            font-size: clamp(3.5rem, 11vw, 9rem); margin-bottom: 20px; line-height: 0.95; 
            font-weight: 800; letter-spacing: -0.05em; 
            filter: drop-shadow(0 4px 15px rgba(0,0,0,0.9));
        }
        .hero-title-main { 
            background: linear-gradient(135deg, #00C2FF, #FF2E93, #00C2FF); 
            background-size: 200% auto;
            animation: gradient-text-anim 5s linear infinite;
            -webkit-background-clip: text; color: transparent; display: block;
            text-shadow: none; 
        }
        @keyframes gradient-text-anim {
            0% { background-position: 0% 50%; }
            100% { background-position: 200% 50%; }
        }
        
        .hero-title-sub { 
            background: linear-gradient(to bottom, transparent 30%, rgba(255,255,255,0.2) 100%);
            -webkit-text-stroke: 1px rgba(255,255,255,0.9); 
            color: transparent; display: block; opacity: 1;
            position: relative;
        }
        
        .hero-sub { 
            color: #fff; font-size: 1.2rem; max-width: 580px; line-height: 1.6; margin-bottom: 40px; font-weight: 500;
            text-shadow: 0 2px 4px rgba(0,0,0,1);
        }
        .hero-actions { display: flex; gap: 20px; margin-top: 10px; }

        .scroll-indicator {
            position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%);
            display: flex; flex-direction: column; align-items: center; gap: 5px;
            color: rgba(255,255,255,0.5); font-size: 0.8rem; z-index: 10;
            animation: bounce 2s infinite ease-in-out;
        }
        .scroll-indicator i { font-size: 1.2rem; color: #fff; }
        @keyframes bounce { 
            0%, 20%, 50%, 80%, 100% {transform: translateX(-50%) translateY(0);} 
            40% {transform: translateX(-50%) translateY(-10px);} 
            60% {transform: translateX(-50%) translateY(-5px);} 
        }

        .btn-hero {
            position: relative; padding: 18px 45px; border-radius: 100px; font-size: 1rem; font-weight: 600; text-decoration: none;
            display: inline-flex; align-items: center; gap: 10px; cursor: pointer; transition: all 0.5s cubic-bezier(0.19, 1, 0.22, 1); overflow: hidden;
            box-shadow: 0 10px 40px rgba(0,0,0,0.6); 
        }
        .btn-hero-yt {
            background: #fff; color: #000; border: 1px solid #fff;
            box-shadow: 0 0 40px rgba(255,255,255,0.3); z-index: 1;
        }
        .btn-hero-yt::before {
            content: ''; position: absolute; top: 0; left: -100%; width: 50%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(200,200,200,0.4), transparent); transform: skewX(-20deg); pointer-events: none; transition: 0s; z-index: 2;
        }
        @media (hover: hover) {
            .btn-hero-yt:hover { transform: translateY(-3px); box-shadow: 0 0 60px rgba(255,255,255,0.5); letter-spacing: 0.5px; }
            .btn-hero-yt:hover::before { left: 200%; transition: 0.7s ease-in-out; }
        }
        .btn-hero-yt i { color: #FF0000; }

        .btn-hero-sec {
            background: rgba(10, 10, 12, 0.7); color: #fff; backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.3); 
        }
        @media (hover: hover) {
            .btn-hero-sec:hover {
                background: rgba(255, 255, 255, 0.15); border-color: rgba(255, 255, 255, 0.6); transform: translateY(-3px);
                box-shadow: 0 10px 30px -10px rgba(0,0,0,0.5);
            }
        }

        /* --- SEKSJONER --- */
        .stats-section, .news-section, .work-section, .shorts-section, .second-channel-section, .about-section, .gear-section, .faq-section { 
            padding: 100px 0; border-top: 1px solid var(--border); 
        }
        .merch-section { display: none; }

        .bento-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 25px; }
        .card { 
            background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius); padding: 35px; 
            display: flex; flex-direction: column; justify-content: space-between; position: relative; overflow: hidden; transition: 0.3s; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        @media (hover: hover) { 
            .card:hover { transform: translateY(-5px); border-color: rgba(255,255,255,0.15); box-shadow: 0 20px 50px rgba(0,0,0,0.4); } 
        }
        
        .card-large { grid-column: span 2; grid-row: span 2; background: linear-gradient(145deg, #13131a, #030305); }
        .card-wide { grid-column: span 2; }
        .stat-num { font-size: 3.5rem; font-weight: 800; color: #fff; letter-spacing: -1px; text-shadow: 0 0 30px rgba(255,255,255,0.1); }

        .news-card { 
            background: #08080a; border: 1px solid var(--border); border-radius: 30px; overflow: hidden; 
            display: grid; grid-template-columns: 1.5fr 1fr; min-height: 450px; position: relative; transition: 0.3s; 
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }
        @media (hover: hover) { .news-card:hover { border-color: rgba(255,255,255,0.1); box-shadow: 0 30px 80px rgba(0,0,0,0.6); } }
        .news-image-wrapper { position: relative; width: 100%; height: 100%; overflow: hidden; }
        .news-img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.7s cubic-bezier(0.2, 1, 0.3, 1); }
        @media (hover: hover) { .news-card:hover .news-img { transform: scale(1.03); } }
        
        .news-overlay { position: absolute; inset: 0; background: linear-gradient(90deg, rgba(5,5,7,0) 0%, rgba(5,5,7,0.9) 60%, #08080a 100%); }
        .news-content { display: flex; flex-direction: column; justify-content: center; padding: 60px; position: relative; z-index: 2; }
        .news-badge { 
            background: rgba(255, 46, 147, 0.1); color: var(--snorky-pink); border: 1px solid rgba(255, 46, 147, 0.3); 
            padding: 6px 14px; border-radius: 50px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; 
            letter-spacing: 1px; width: fit-content; margin-bottom: 20px; display: flex; align-items: center; gap: 8px; 
            box-shadow: 0 0 15px rgba(255, 46, 147, 0.2);
        }
        .news-badge span { width: 6px; height: 6px; background: var(--snorky-pink); border-radius: 50%; box-shadow: 0 0 8px var(--snorky-pink); animation: pulse 2s infinite; }
        .news-title { font-size: 2.2rem; line-height: 1.1; margin-bottom: 20px; color: #fff; }
        .news-excerpt { color: #889; font-size: 1rem; line-height: 1.6; margin-bottom: 35px; }
        
        .btn-ultra { 
            position: relative; padding: 14px 35px; font-size: 0.9rem; font-weight: 700; color: #fff; text-decoration: none; 
            background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 100px; 
            display: inline-flex; align-items: center; gap: 10px; transition: all 0.5s; overflow: hidden; 
            text-transform: uppercase; letter-spacing: 1px; backdrop-filter: blur(5px); 
        }
        @media (hover: hover) { .btn-ultra:hover { padding-right: 50px; background: #fff; color: #000; border-color: #fff; } .btn-ultra:hover i { transform: translateX(15px); color: #000; } }
        .btn-ultra i { transition: 0.5s; }

        .work-container { 
            width: 100%; max-width: 1400px; margin: 0 auto; padding: 0 40px; position: relative; 
            overflow: visible; 
        }
        .work-header { 
            display: flex; justify-content: space-between; align-items: end; margin-bottom: 40px; 
            position: relative; z-index: 50; 
        }
        .scroll-controls { display: flex; gap: 15px; }
        .scroll-btn { width: 50px; height: 50px; border-radius: 50%; border: 1px solid var(--border); background: rgba(255,255,255,0.03); color: #fff; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: 0.3s; z-index: 5; }
        .scroll-btn:hover { background: #fff; color: #000; }
        
        .work-track { 
            display: flex; gap: 30px; overflow-x: auto; scroll-behavior: smooth; padding-bottom: 60px; -ms-overflow-style: none; scrollbar-width: none; 
            position: relative; z-index: 10; 
        }
        .work-track::-webkit-scrollbar { display: none; }
        
        .video-card-premium { 
            width: 400px; min-width: 400px; background: rgba(18, 18, 22, 0.8); border-radius: 20px; 
            border: 1px solid rgba(255,255,255,0.06); display: flex; flex-direction: column; overflow: hidden; 
            position: relative; transition: all 0.4s; box-shadow: 0 10px 40px -10px rgba(0,0,0,0.5); 
        }
        @media (hover: hover) { 
            .video-card-premium:hover { transform: translateY(-10px); border-color: rgba(255,255,255,0.2); } 
            .video-card-premium:hover .premium-thumb { transform: scale(1.05); filter: brightness(0.7); }
            .video-card-premium:hover .premium-play-btn { transform: translate(-50%, -50%) scale(1.1); opacity: 1; }
        }
        
        .premium-thumb-wrapper { width: 100%; aspect-ratio: 16/9; position: relative; overflow: hidden; }
        .premium-thumb { width: 100%; height: 100%; object-fit: cover; transition: transform 0.6s ease; }
        .premium-play-btn { 
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0.9); width: 60px; height: 60px; 
            background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.5); 
            border-radius: 50%; display: flex; align-items: center; justify-content: center; opacity: 0; transition: all 0.4s; 
        }
        .duration-badge { position: absolute; bottom: 10px; right: 10px; background: rgba(0,0,0,0.8); color: #fff; padding: 4px 8px; border-radius: 6px; font-weight: 600; font-size: 0.75rem; backdrop-filter: blur(4px); }
        .premium-info { padding: 25px; display: flex; flex-direction: column; flex-grow: 1; position: relative; }
        .premium-title { font-size: 1.1rem; font-weight: 600; line-height: 1.4; color: #fff; margin-bottom: 20px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .premium-stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; border-top: 1px solid rgba(255,255,255,0.05); padding-top: 15px; margin-top: auto; }
        .stat-box { display: flex; flex-direction: column; align-items: flex-start; gap: 4px; }
        .stat-value { font-size: 0.85rem; font-weight: 500; color: #94a3b8; display: flex; align-items: center; gap: 6px; }
        
        .shorts-container { overflow-x: auto; padding: 20px 0 50px 0; -ms-overflow-style: none; scrollbar-width: none; scroll-behavior: smooth; position: relative; }
        .shorts-container::-webkit-scrollbar { display: none; }
        .shorts-track { display: flex; gap: 25px; padding: 0 40px; }
        .shorts-title-anim { font-size: 2.5rem; font-weight: 800; background: linear-gradient(300deg, #ff0000, #ff0055, #ff9900, #ff0000); background-size: 300% 300%; -webkit-background-clip: text; color: transparent; animation: gradient-anim 4s ease infinite; }
        
        .shorts-card { 
            min-width: 260px; aspect-ratio: 9/16; 
            background: #000; border-radius: 20px; border: 1px solid var(--border); 
            position: relative; overflow: hidden; transition: 0.3s; cursor: pointer; 
        }
        @media (hover: hover) {
            .shorts-card:hover { transform: translateY(-8px); border-color: #fff; box-shadow: 0 10px 40px rgba(255,0,0,0.15); }
            .shorts-card:hover .shorts-thumb { transform: scale(1.1); opacity: 0.6; }
            .shorts-card:hover .shorts-overlay { transform: translateY(0); }
        }
        .shorts-thumb { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
        .shorts-overlay { position: absolute; bottom: 0; left: 0; width: 100%; padding: 20px; background: linear-gradient(to top, rgba(0,0,0,0.9), transparent); transform: translateY(100%); transition: 0.3s; }
        .shorts-icon { position: absolute; top: 12px; right: 12px; background: rgba(0,0,0,0.5); padding: 8px; border-radius: 50%; width: 30px; height: 30px; display:flex; align-items:center; justify-content:center; backdrop-filter: blur(5px); }

        /* CUSTOM DROPDOWN */
        .custom-select-wrapper { position: relative; user-select: none; margin-left: 20px; z-index: 100; }
        .custom-select { position: relative; display: flex; flex-direction: column; }
        .custom-select-trigger {
            position: relative; display: flex; align-items: center; justify-content: space-between; padding: 10px 20px;
            font-size: 0.9rem; font-weight: 500; color: #fff; background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 50px; cursor: pointer; transition: 0.3s; gap: 10px;
            backdrop-filter: blur(10px);
        }
        .custom-select-trigger:hover { background: rgba(255, 255, 255, 0.1); border-color: rgba(255, 255, 255, 0.3); }
        .custom-select-trigger i { color: var(--snorky-blue); }
        
        .custom-options {
            position: absolute; top: 120%; right: 0; min-width: 180px; background: #0f0f12; border: 1px solid rgba(255,255,255,0.1);
            border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); opacity: 0; visibility: hidden; pointer-events: none;
            transform: translateY(-10px); transition: 0.3s cubic-bezier(0.2, 1, 0.3, 1); overflow: hidden; z-index: 999; 
        }
        .custom-select.open .custom-options { opacity: 1; visibility: visible; pointer-events: all; transform: translateY(0); }
        .custom-option { padding: 12px 20px; font-size: 0.9rem; color: #bbb; cursor: pointer; transition: 0.2s; border-bottom: 1px solid rgba(255,255,255,0.03); }
        .custom-option:last-child { border-bottom: none; }
        .custom-option:hover { background: rgba(255,255,255,0.05); color: #fff; padding-left: 25px; }
        .custom-option.selected { color: var(--snorky-blue); font-weight: 600; background: rgba(0, 194, 255, 0.05); }

        .about-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 80px; align-items: center; }
        .gear-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 20px; }
        .gear-card { background: var(--surface); padding: 35px; border-radius: 20px; border: 1px solid var(--border); position: relative; transition: 0.3s; }
        @media (hover: hover) { .gear-card:hover { background: #121214; transform: translateY(-5px); border-color: rgba(255,255,255,0.2); } .gear-card:hover .gear-icon { color: #fff; transform: rotate(10deg); } }
        .gear-icon { position: absolute; top: 30px; right: 30px; font-size: 1.5rem; color: #444; transition:0.3s; }
        
        .faq-item { border-bottom: 1px solid var(--border); padding: 25px 0; transition:0.3s; }
        @media (hover: hover) { .faq-item:hover { background: rgba(255,255,255,0.01); padding-left:10px; } }
        .faq-question { font-size: 1.2rem; font-weight: 600; cursor: pointer; display: flex; justify-content: space-between; color: #e2e8f0; }
        .faq-answer { max-height: 0; overflow: hidden; transition: 0.4s; color: #94a3b8; padding-top: 0; }
        .faq-answer.open { max-height: 200px; padding-top: 15px; }

        footer { padding: 80px 0 120px 0; border-top: 1px solid var(--border); background: #000; }
        .footer-grid { display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; gap: 50px; }
        .footer-col a { display: block; color: #64748b; text-decoration: none; margin-bottom: 12px; font-size: 0.95rem; transition: 0.2s; }
        .footer-col a:hover { color: #fff; transform: translateX(3px); }

        /* Settings Modal */
        .settings-modal { position: fixed; inset: 0; background: rgba(0,0,0,0.6); backdrop-filter: blur(15px); z-index: 10001; display: flex; justify-content: center; align-items: center; opacity: 0; pointer-events: none; transition: 0.3s; }
        .settings-modal.open { opacity: 1; pointer-events: all; }
        .settings-panel { background: #0f0f12; border: 1px solid var(--border); width: 90%; max-width: 420px; border-radius: 24px; overflow: hidden; box-shadow: 0 20px 50px rgba(0,0,0,0.8); transform: scale(0.95); transition: 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .settings-modal.open .settings-panel { transform: scale(1); }
        .settings-header { padding: 20px 30px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; background: linear-gradient(to right, rgba(255,255,255,0.02), transparent); }
        .settings-header h3 { font-size: 1.1rem; display: flex; align-items: center; gap: 10px; color:#fff; }
        .close-btn { cursor: pointer; color: #888; transition: 0.3s; padding: 5px; }
        .close-btn:hover { color: #fff; transform: rotate(90deg); }
        .settings-body { padding: 30px; }
        .setting-group { margin-bottom: 25px; }
        .setting-group-title { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 1px; color: #666; margin-bottom: 15px; font-weight: 700; }
        .profile-selector { display: flex; background: rgba(255,255,255,0.03); padding: 4px; border-radius: 12px; gap: 4px; margin-bottom: 25px; }
        .profile-btn { flex: 1; text-align: center; padding: 10px; font-size: 0.85rem; cursor: pointer; border-radius: 8px; color: #888; transition: 0.3s; font-weight: 500; }
        .profile-btn:hover { color: #fff; background: rgba(255,255,255,0.03); }
        .profile-btn.active { background: #fff; color: #000; font-weight: 700; box-shadow: 0 4px 15px rgba(255,255,255,0.1); }
        .setting-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .setting-label { font-size: 0.95rem; font-weight: 500; display: flex; align-items: center; gap: 10px; color:#ccc; }
        .setting-label i { width: 20px; color: #666; font-size: 0.9rem; }
        .toggle-switch { position: relative; width: 44px; height: 24px; }
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #333; transition: .4s; border-radius: 34px; }
        .slider:before { position: absolute; content: ""; height: 18px; width: 18px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--snorky-blue); }
        input:checked + .slider:before { transform: translateX(20px); }

        .channel-card-compact { background: linear-gradient(90deg, #121216, #050505); border: 1px solid rgba(255,255,255,0.06); border-radius: 30px; padding: 30px 40px; display: flex; justify-content: space-between; align-items: center; position: relative; overflow: hidden; max-width: 900px; margin: 0 auto; box-shadow: 0 20px 50px rgba(0,0,0,0.5); transition: 0.3s; }
        @media (hover: hover) { .channel-card-compact:hover { border-color: rgba(255,255,255,0.15); box-shadow: 0 30px 60px rgba(0,0,0,0.6); } }
        .ch-left { display: flex; align-items: center; gap: 30px; position: relative; z-index: 2; }
        .ch-profile-wrapper { position: relative; width: 100px; height: 100px; }
        .ch2-img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; border: 3px solid rgba(255,255,255,0.1); transition: 0.4s; }
        @media (hover: hover) { .channel-card-compact:hover .ch2-img { border-color: #fff; transform: scale(1.05); } }
        .ch-info h2 { font-size: 2rem; margin: 0; line-height: 1; background: linear-gradient(to right, #fff, #b0b0b0); -webkit-background-clip: text; color: transparent; }
        .ch-meta { display: flex; align-items: center; gap: 15px; margin-top: 8px; color: #888; font-size: 0.9rem; }
        .ch-handle { color: var(--snorky-blue); font-weight: 600; }
        .ch-stats { display: flex; gap: 10px; align-items: center; }
        .ch-right { position: relative; z-index: 2; }

        /* -----------------------------------------------------------
           MOBIL-SPESIFIKKE JUSTERINGER & "APP FEEL"
           ----------------------------------------------------------- */
        @media (max-width: 1024px) {
            .btn-hero:hover, .card:hover, .news-card:hover, .shorts-card:hover { transform: none !important; box-shadow: none !important; border-color: var(--border) !important; }
            nav { display: none !important; }
            
            /* FJERN PILER PÅ MOBIL */
            .scroll-controls { display: none !important; }
            .scroll-progress { display: block; }

            /* MOBIL BOTTOM NAVIGASJON (EKSKLUSIV) */
            .mobile-bottom-nav {
                display: flex; justify-content: space-around; align-items: center;
                position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
                width: 90%; max-width: 400px; height: 65px;
                background: rgba(15, 15, 20, 0.8); backdrop-filter: blur(20px);
                border: 1px solid rgba(255,255,255,0.1); border-radius: 50px;
                z-index: 9990; box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            }
            .nav-item { color: #888; font-size: 1.2rem; padding: 10px; transition: 0.3s; display: flex; flex-direction: column; align-items: center; gap: 4px; text-decoration: none;}
            .nav-item span { font-size: 0.6rem; font-weight: 600; }
            .nav-item.active { color: #fff; }
            .nav-item.active i { color: var(--snorky-blue); transform: translateY(-2px); }

            /* HEADER MED VIGNETTE OG SETTINGS */
            .mobile-header {
                display: flex; justify-content: space-between; align-items: center;
                position: fixed; top: 0; left: 0; width: 100%; height: 70px;
                padding: 0 20px; z-index: 9999;
                /* VIGNETTE EFFEKT PÅ TOPPEN */
                background: linear-gradient(to bottom, rgba(0,0,0,0.9), transparent);
                pointer-events: none; 
            }
            .mobile-header * { pointer-events: auto; }
            .mobile-logo { height: 24px; width: auto; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.8)); }
            
            /* Container for hamburger og settings */
            .mobile-header-actions { display: flex; align-items: center; gap: 20px; }
            .header-settings-icon { font-size: 1.4rem; color: #fff; cursor: pointer; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.8)); }
            
            /* SCROLL SNAP & TOUCH FEEL */
            .work-track, .shorts-container {
                scroll-snap-type: x mandatory;
                -webkit-overflow-scrolling: touch;
                padding-right: 20%; 
            }
            .video-card-premium, .shorts-card {
                scroll-snap-align: center;
                margin-right: 15px;
            }
            .video-card-premium { width: 85vw; min-width: 85vw; }

            /* SWIPE HINT ANIMASJON */
            .swipe-hint {
                position: absolute; right: 20px; top: 50%; transform: translateY(-50%);
                color: rgba(255,255,255,0.5); font-size: 1.5rem;
                animation: swipeAnim 2s infinite; pointer-events: none; z-index: 10;
                display: block !important;
            }
            @keyframes swipeAnim { 
                0% { transform: translate(0, -50%); opacity: 0; } 
                20% { opacity: 1; } 
                80% { transform: translate(-20px, -50%); opacity: 0; } 
                100% { opacity: 0; } 
            }

            .container { padding: 0 20px; } 
            .hero-title { font-size: 14vw; margin-bottom:15px; } 
            .hero-actions { flex-direction: column; width: 100%; gap: 15px; }
            .btn-hero { width: 100%; justify-content: center; padding: 18px; }
            .hero-overlay { padding: 40px 15px; border-radius: 0; width: 100%; } 
            .bento-grid { grid-template-columns: 1fr; gap: 20px; }
            .work-track { padding-left: 20px; padding-right: 20px; }
            .news-card { grid-template-columns: 1fr; min-height: auto; }
            .news-image-wrapper { height: 250px; }
            .news-content { padding: 30px 20px; }
            .news-title { font-size: 1.8rem; }
            .channel-card-compact { flex-direction: column; text-align: center; gap: 25px; padding: 40px 20px; }
            .ch-left { flex-direction: column; }
            .btn-ultra { width: 100%; justify-content: center; padding: 18px; }
            .about-grid, .footer-grid { grid-template-columns: 1fr; gap: 40px; }
            .about-text { order: 2; } .about-image-wrapper { order: 1; }
            .shorts-overlay { transform: translateY(0); background: linear-gradient(to top, rgba(0,0,0,1), transparent); }
            .shorts-card { min-width: 160px; }
        }
        
        @media(min-width: 1025px) { .swipe-hint { display: none; } }
    </style>
</head>
<body id="home">

    <div class="ambient-orb orb-1"></div>
    <div class="ambient-orb orb-2"></div>
    <div class="ambient-orb orb-3"></div>
    <div class="cyber-grid"></div>

    <div class="settings-modal" id="settingsModal">
        <div class="settings-panel">
            <div class="settings-header">
                <h3><i class="fas fa-sliders-h"></i> INNSTILLINGER</h3>
                <i class="fas fa-times close-btn" onclick="toggleSettings()"></i>
            </div>
            <div class="settings-body">
                <div class="setting-group">
                    <div class="setting-group-title">Grafikk Preset</div>
                    <div class="profile-selector">
                        <div class="profile-btn active" id="modeHigh" onclick="setGraphicsMode('high')">Høy</div>
                        <div class="profile-btn" id="modeBalanced" onclick="setGraphicsMode('balanced')">Balansert</div>
                        <div class="profile-btn" id="modeLow" onclick="setGraphicsMode('low')">Ytelse</div>
                    </div>
                </div>
                <div class="setting-group">
                    <div class="setting-group-title">Detaljer</div>
                    <div class="setting-row">
                        <div class="setting-label"><i class="fas fa-wind"></i> Bakgrunns-animasjon</div>
                        <label class="toggle-switch"><input type="checkbox" id="toggleMarquee" checked onchange="updateCustomSetting('marquee', this.checked)"><span class="slider"></span></label>
                    </div>
                    <div class="setting-row">
                        <div class="setting-label"><i class="fas fa-snowflake"></i> Partikler</div>
                        <label class="toggle-switch"><input type="checkbox" id="toggleParticles" checked onchange="updateCustomSetting('particles', this.checked)"><span class="slider"></span></label>
                    </div>
                    <div class="setting-row">
                        <div class="setting-label"><i class="fas fa-tint"></i> Glass Effekt (Blur)</div>
                        <label class="toggle-switch"><input type="checkbox" id="toggleBlur" checked onchange="updateCustomSetting('blur', this.checked)"><span class="slider"></span></label>
                    </div>
                </div>
                <p style="font-size:0.75rem; color:#555; text-align:center; margin-top:20px;">Endringer lagres automatisk.</p>
            </div>
        </div>
    </div>

    <div class="scroll-progress" id="scrollProgress"></div>
    <div class="preloader"><img src="logo.png" style="width:80px; animation:pulse 2s infinite;" alt="L" onerror="this.style.display='none'"><div class="preloader-bar"></div></div>
    <div class="noise"></div>
    <canvas id="particle-canvas"></canvas>

    <nav>
        <div class="container nav-inner">
            <a href="#home" class="nav-brand" onclick="if(!isMobile && lenis) lenis.scrollTo('#home');"><img src="logo2.png" alt="S" onerror="this.style.display='none'"></a>
            <ul class="nav-links">
                <li><a href="#stats" class="text-link"><i class="fas fa-chart-line"></i> Stats</a></li>
                <li><a href="#news" class="text-link"><i class="fas fa-star"></i> Nytt</a></li>
                <li><a href="#videos" class="text-link"><i class="fas fa-video"></i> Videoer</a></li>
                <li><a href="#shorts" class="text-link"><i class="fas fa-bolt"></i> Shorts</a></li>
                <li><a href="#gear" class="text-link"><i class="fas fa-keyboard"></i> Setup</a></li>
                <li><a href="https://www.youtube.com/channel/UCvRVrLgB-Tk9R6dIzH2gE6w?sub_confirmation=1" target="_blank" class="nav-sub-btn"><i class="fab fa-youtube"></i> Abonner</a></li>
                <li><div class="settings-btn" onclick="toggleSettings()"><i class="fas fa-cog"></i></div></li>
            </ul>
        </div>
    </nav>

    <div class="mobile-header">
        <img src="logo2.png" class="mobile-logo tap-effect" alt="S" onclick="window.scrollTo(0,0)">
        <div class="mobile-header-actions">
            <i class="fas fa-cog header-settings-icon tap-effect" onclick="toggleSettings()"></i>
            </div>
    </div>

    <div class="mobile-menu-overlay" id="mobileMenu">
        <div class="mobile-links">
            <a href="#home" class="mobile-link tap-effect" onclick="toggleMobileMenu()">HJEM</a>
            <a href="#videos" class="mobile-link tap-effect" onclick="toggleMobileMenu()">VIDEOER</a>
            <a href="#shorts" class="mobile-link tap-effect" onclick="toggleMobileMenu()">SHORTS</a>
            <a href="#stats" class="mobile-link tap-effect" onclick="toggleMobileMenu()">STATS</a>
        </div>
        <div class="mobile-actions">
            <div class="mob-btn tap-effect" onclick="toggleSettings(); toggleMobileMenu();">
                <i class="fas fa-sliders-h"></i>
            </div>
            <div class="mob-btn tap-effect" onclick="shareSite(); toggleMobileMenu();">
                <i class="fas fa-share-alt"></i>
            </div>
            <a href="https://www.youtube.com/channel/UCvRVrLgB-Tk9R6dIzH2gE6w?sub_confirmation=1" target="_blank" class="mob-btn tap-effect" style="background:var(--yt-red); border:none;">
                <i class="fab fa-youtube"></i>
            </a>
        </div>
    </div>

    <div class="mobile-bottom-nav">
        <a href="#home" class="nav-item active" onclick="mobileNavClick(this)"><i class="fas fa-home"></i><span>Hjem</span></a>
        <a href="#videos" class="nav-item" onclick="mobileNavClick(this)"><i class="fas fa-play-circle"></i><span>Videoer</span></a>
        <a href="#shorts" class="nav-item" onclick="mobileNavClick(this)"><i class="fas fa-bolt"></i><span>Shorts</span></a>
        <a href="#stats" class="nav-item" onclick="mobileNavClick(this)"><i class="fas fa-chart-bar"></i><span>Stats</span></a>
    </div>

    <section class="hero">
        <div class="marquee-container" id="marqueeBg"></div>
        <div class="hero-overlay" data-scroll data-scroll-speed="0.3">
            <h1 class="hero-title"><span class="hero-title-main">SNORKY</span><span class="hero-title-sub">SITE.</span></h1>
            <div class="hero-actions reveal">
                <a href="https://www.youtube.com/channel/UCvRVrLgB-Tk9R6dIzH2gE6w" target="_blank" class="btn-hero btn-hero-yt tap-effect" onclick="triggerHaptic()"><i class="fab fa-youtube"></i> Besøk Kanalen</a>
                <a href="#videos" class="btn-hero btn-hero-sec tap-effect" onclick="triggerHaptic()">Utforsk Innhold</a>
            </div>
            
            <div class="scroll-indicator">
                <span>SCROLL</span>
                <i class="fas fa-chevron-down"></i>
            </div>
        </div>
    </section>

    <section class="stats-section" id="stats">
        <div class="container">
            <span class="subtitle reveal">Live Dashboard</span>
            <h2 class="section-header reveal">Kanal Oversikt</h2>
            <div class="bento-grid">
                <div class="card card-large reveal tap-effect" onclick="triggerHaptic()" tabindex="0">
                    <div style="display:flex; justify-content:space-between; align-items:start;"><div><span class="subtitle">Abonnenter</span><div class="stat-num" id="subCount">...</div></div><i class="fab fa-youtube" style="font-size:3rem; color:rgba(255,255,255,0.1);"></i></div>
                    <div style="margin-top:auto;"><p style="color:#888;">Takk til alle.</p></div>
                </div>
                <div class="card reveal tap-effect" onclick="triggerHaptic()" tabindex="0"><span class="subtitle">Visninger</span><div class="stat-num" id="viewCount">-</div></div>
                <div class="card reveal tap-effect" onclick="triggerHaptic()" tabindex="0"><span class="subtitle">Opplastinger</span><div class="stat-num" id="videoCount">-</div></div>
                <div class="card card-wide reveal tap-effect" onclick="triggerHaptic()" tabindex="0">
                    <span class="subtitle">Neste Mål: 1000 Subs</span>
                    <div style="width:100%; background:rgba(255,255,255,0.05); height:6px; border-radius:20px; margin-top:25px; overflow:hidden;"><div id="goalProgress" style="height:100%; background:var(--accent-gradient); width:0%; transition:width 2s ease;"></div></div>
                    <p style="text-align:right; font-size:0.85rem; margin-top:10px; opacity:0.6;" id="progressText">Laster data...</p>
                </div>
            </div>
        </div>
    </section>

    <section class="news-section" id="news">
        <div class="container">
            <span class="subtitle reveal">Featured</span>
            <div class="news-card reveal" id="spotlightCard" tabindex="0"></div>
        </div>
    </section>

    <section class="work-section" id="videos">
        <div class="work-container">
            <div class="work-header reveal">
                <div>
                    <span class="subtitle">Bibliotek</span>
                    <div style="display: flex; align-items: center;">
                        <h2 class="section-header" style="margin-bottom:0;" id="videoHeaderTitle">Siste Slipp</h2>
                        <div class="custom-select-wrapper">
                            <div class="custom-select" id="videoSort" tabindex="0">
                                <div class="custom-select-trigger"><span><i class="fas fa-filter"></i> Sorter</span></div>
                                <div class="custom-options">
                                    <div class="custom-option selected" data-value="date" onclick="sortVideos('date', 'long')">Nyeste (Standard)</div>
                                    <div class="custom-option" data-value="views" onclick="sortVideos('views', 'long')">Mest Visninger</div>
                                    <div class="custom-option" data-value="oldest" onclick="sortVideos('oldest', 'long')">Eldste</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="scroll-controls">
                    <div class="scroll-btn prev" onclick="scrollVideos(-600)" tabindex="0"><i class="fas fa-chevron-left"></i></div>
                    <div class="scroll-btn next" onclick="scrollVideos(600)" tabindex="0"><i class="fas fa-chevron-right"></i></div>
                </div>
            </div>
            
            <div style="position:relative;">
                <div class="swipe-hint"><i class="fas fa-hand-pointer"></i></div>
                <div class="work-track" id="videoTrack"></div>
            </div>
        </div>
    </section>

    <section class="shorts-section" id="shorts">
        <div class="container">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:40px;">
                <div style="display:flex; align-items:center; gap:15px;">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/f/fc/Youtube_shorts_icon.svg" style="height:40px;">
                    <h2 class="shorts-title-anim" style="margin-bottom:0;" id="shortsHeaderTitle">Shorts</h2>
                    <div class="custom-select-wrapper">
                        <div class="custom-select" id="shortsSort" tabindex="0">
                            <div class="custom-select-trigger"><span><i class="fas fa-filter"></i></span></div>
                            <div class="custom-options">
                                <div class="custom-option selected" data-value="date" onclick="sortVideos('date', 'shorts')">Nyeste</div>
                                <div class="custom-option" data-value="views" onclick="sortVideos('views', 'shorts')">Mest Visninger</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="scroll-controls" style="display:flex;">
                    <div class="scroll-btn prev" onclick="scrollShorts(-300)" tabindex="0"><i class="fas fa-chevron-left"></i></div>
                    <div class="scroll-btn next" onclick="scrollShorts(300)" tabindex="0"><i class="fas fa-chevron-right"></i></div>
                </div>
            </div>
            <div class="shorts-container" id="shortsContainer">
                <div class="swipe-hint" style="top:50%; right:20px;"><i class="fas fa-hand-pointer"></i></div>
                <div class="shorts-track" id="shortsTrack"></div>
            </div>
        </div>
    </section>
    
    <section class="second-channel-section">
        <div class="container">
            <div class="reveal" style="text-align:center; margin-bottom:40px;"><span class="subtitle" style="justify-content:center;">Ekstra</span><h2 class="section-header" style="font-size:3rem;">Snorky 2</h2><p style="color:#94a3b8; max-width:500px; margin:0 auto;">Sjekk ut andrekanalen for ufiltrerte videoer.</p></div>
            <div class="channel-card-compact reveal" tabindex="0">
                <div class="ch-left"><div class="ch-profile-wrapper"><img id="ch2-img" src="logo.png" alt="Snorky 2" class="ch2-img"></div><div class="ch-info"><h2>SNORKY 2</h2><div class="ch-meta"><span class="ch-handle">@snorky2361</span><span>•</span><div class="ch-stats"><span id="ch2-subs">...</span> <span>Subs</span><span style="margin:0 5px;">|</span><span id="ch2-vids">...</span> <span>Videoer</span></div></div></div></div>
                <div class="ch-right"><a href="https://www.youtube.com/@snorky2361" target="_blank" class="btn-ultra tap-effect" onclick="triggerHaptic()">Gå til SNORKY 2 <i class="fas fa-arrow-right"></i></a></div>
            </div>
        </div>
    </section>

    <section class="about-section" id="about">
        <div class="container">
            <div class="about-grid">
                <div class="about-text reveal"><span class="subtitle">Profil</span><h2 class="section-header">Hei</h2><p style="margin-bottom: 25px; color:#ccc; font-size:1.1rem; line-height:1.6;">Dette er <span style="color:var(--snorky-pink); font-weight:700;">bare en hobby</span>. Jeg sitter på rommet mitt, spiller spill og redigerer videoer når jeg føler for det.</p><p style="color:#888;">Jeg startet med YouTube fordi jeg liker å skape ting. Ikke for å bli en "influencer".</p></div>
                <div class="about-image-wrapper reveal"><img src="header-bg.jpg" class="parallax-img" loading="lazy" style="width:100%; border-radius:20px; border: none; box-shadow: none;" onerror="this.src='https://images.unsplash.com/photo-1598550476439-c92309798050?q=80&w=2070&auto=format&fit=crop'"></div>
            </div>
        </div>
    </section>

    <section class="gear-section" id="gear">
        <div class="container">
            <span class="subtitle reveal">Utstyr</span><h2 class="section-header reveal">Mitt Setup</h2>
            <div class="gear-grid">
                <div class="gear-card reveal tap-effect" onclick="triggerHaptic()" tabindex="0"><h4>RTX 4060 TI</h4><i class="fas fa-microchip gear-icon"></i></div>
                <div class="gear-card reveal tap-effect" onclick="triggerHaptic()" tabindex="0"><h4>BLUE YETI</h4><i class="fas fa-microphone gear-icon"></i></div>
                <div class="gear-card reveal tap-effect" onclick="triggerHaptic()" tabindex="0"><h4>AEROX 9</h4><i class="fas fa-mouse gear-icon"></i></div>
                <div class="gear-card reveal tap-effect" onclick="triggerHaptic()" tabindex="0"><h4>APEX PRO</h4><i class="fas fa-keyboard gear-icon"></i></div>
            </div>
        </div>
    </section>

    <section class="faq-section" id="faq">
        <div class="container">
            <h2 class="section-header reveal" style="text-align:center;">Ofte Spurt</h2>
            <div style="max-width:800px; margin:0 auto;">
                <div class="faq-item reveal tap-effect" onclick="toggleFaq(this); triggerHaptic();" tabindex="0"><div class="faq-question">Når kommer neste video? <span>+</span></div><div class="faq-answer">Når den er ferdig. Jeg har ingen fast timeplan.</div></div>
                <div class="faq-item reveal tap-effect" onclick="toggleFaq(this); triggerHaptic();" tabindex="0"><div class="faq-question">Hva redigerer du i? <span>+</span></div><div class="faq-answer">Adobe Premiere Pro</div></div>
            </div>
            </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-grid reveal">
                <div style="grid-column: span 2;"><h2>Snorky.</h2><p style="margin-top:20px; max-width:300px; color:#666;">Takk for at du sjekket ut siden.</p></div>
                <div class="footer-col"><a href="#stats">Stats</a><a href="#videos">Videoer</a><a href="#gear">Gear</a></div>
                <div class="footer-col"><a href="https://www.youtube.com/channel/UCvRVrLgB-Tk9R6dIzH2gE6w">YouTube</a></div>
            </div>
            <p style="margin-top:60px; border-top:1px solid var(--border); padding-top:30px; font-size:0.8rem; color:#444;">&copy; 2026 SNORKY.</p>
        </div>
    </footer>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>

    <script>
        // === SIKKERHETS SPERRE FOR HØYREKLIKK OG INSPEKSJON ===
        document.addEventListener('contextmenu', event => event.preventDefault()); // Stopp høyreklikk

        document.onkeydown = function(e) {
            // Stopp F12
            if(e.keyCode == 123) { return false; }
            
            // Stopp Ctrl+Shift+I (Inspect), Ctrl+Shift+J (Console), Ctrl+U (View Source)
            if(e.ctrlKey && e.shiftKey && (e.keyCode == 'I'.charCodeAt(0) || e.keyCode == 'J'.charCodeAt(0))) { return false; }
            if(e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) { return false; }
        }

        const API_KEY = 'AIzaSyDZRrshuJJCqAgk-dShcdsXvBzrse_6VjA';
        const CHANNEL_ID = 'UCvRVrLgB-Tk9R6dIzH2gE6w';
        const CHANNEL_2_HANDLE = 'snorky2361'; 
        const isMobile = window.innerWidth <= 1024;
        let lenis;
        
        // GLOBAL DATA
        let globalLongVideos = []; 
        let globalShortVideos = [];
        
        const settings = { preset: 'high', marquee: true, particles: true, blur: true };
        function triggerHaptic() { if (navigator.vibrate) navigator.vibrate(15); }

        function mobileNavClick(el) {
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            el.classList.add('active');
            triggerHaptic();
        }
        
        // Hamburger Meny Toggle
        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            const hamburger = document.querySelector('.hamburger');
            if (menu) menu.classList.toggle('open');
            if (hamburger) hamburger.classList.toggle('active'); // Sjekk om elementet finnes før vi toggler
            if(menu && menu.classList.contains('open')) document.body.style.overflow = 'hidden';
            else document.body.style.overflow = 'auto';
            triggerHaptic();
        }

        class FPSMeter {
            constructor() { this.startTime = performance.now(); this.frames = 0; this.monitoring = true; }
            tick() {
                if(!this.monitoring) return;
                this.frames++;
                const now = performance.now();
                if (now >= this.startTime + 2000) {
                    const fps = Math.round((this.frames * 1000) / (now - this.startTime));
                    console.log(`Detected FPS: ${fps}`);
                    if(fps < 45 && !isMobile) { console.warn("Low FPS detected. Switching to Balanced Mode."); setGraphicsMode('balanced'); }
                    this.monitoring = false; 
                }
                requestAnimationFrame(() => this.tick());
            }
        }

        function setGraphicsMode(mode) {
            settings.preset = mode;
            document.querySelectorAll('.profile-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(mode === 'high' ? 'modeHigh' : mode === 'balanced' ? 'modeBalanced' : 'modeLow').classList.add('active');
            if (mode === 'high') { updateCustomSetting('marquee', true); updateCustomSetting('particles', true); updateCustomSetting('blur', true); } 
            else if (mode === 'balanced') { updateCustomSetting('marquee', true); updateCustomSetting('particles', true); updateCustomSetting('blur', false); } 
            else { updateCustomSetting('marquee', false); updateCustomSetting('particles', false); updateCustomSetting('blur', false); }
            document.getElementById('toggleMarquee').checked = settings.marquee;
            document.getElementById('toggleParticles').checked = settings.particles;
            document.getElementById('toggleBlur').checked = settings.blur;
        }

        function updateCustomSetting(key, value) { settings[key] = value; applySettings(); }
        function applySettings() {
            const body = document.body; const marquee = document.getElementById('marqueeBg'); const canvas = document.getElementById('particle-canvas');
            if(settings.blur) body.classList.remove('no-blur'); else body.classList.add('no-blur');
            if(settings.marquee) { if(marquee) marquee.style.display = 'flex'; body.classList.remove('low-perf'); } else { if(marquee) marquee.style.display = 'none'; }
            if(settings.particles) { if(canvas) canvas.style.display = 'block'; } else { if(canvas) canvas.style.display = 'none'; }
            if(!settings.marquee && !settings.particles && !settings.blur) { body.classList.add('low-perf'); } else { if(settings.marquee) body.classList.remove('low-perf'); }
        }

        function toggleSettings() { 
            document.getElementById('settingsModal').classList.toggle('open'); 
            triggerHaptic();
        }
        
        // --- CUSTOM DROPDOWN LOGIC ---
        function setupCustomDropdowns() {
            document.querySelectorAll('.custom-select').forEach(select => {
                const trigger = select.querySelector('.custom-select-trigger');
                trigger.addEventListener('click', (e) => {
                    e.stopPropagation();
                    document.querySelectorAll('.custom-select').forEach(other => {
                         if(other !== select) other.classList.remove('open');
                    });
                    select.classList.toggle('open');
                    triggerHaptic();
                });
            });
            window.addEventListener('click', () => {
                document.querySelectorAll('.custom-select').forEach(select => select.classList.remove('open'));
            });
        }
        setupCustomDropdowns();

        window.addEventListener('load', () => {
            document.querySelector('.preloader').classList.add('hide');
            const meter = new FPSMeter(); meter.tick();
            gsap.registerPlugin(ScrollTrigger);
            gsap.from(".hero-title", { opacity: 0, y: 100, duration: 1.5, delay: 0.5, ease: "power4.out" });
            
            if(settings.blur) { gsap.to(".parallax-img", { yPercent: 15, ease: "none", scrollTrigger: { trigger: ".about-section", start: "top bottom", end: "bottom top", scrub: true } }); }

            if(!isMobile) {
                lenis = new Lenis({ duration: 1.5, smooth: true, mouseMultiplier: 1.2 });
                function raf(time) { lenis.raf(time); requestAnimationFrame(raf); }
                requestAnimationFrame(raf);
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function (e) {
                        e.preventDefault(); const targetId = this.getAttribute('href'); if(targetId === '#') return;
                        const targetElement = document.querySelector(targetId); if(targetElement) lenis.scrollTo(targetElement);
                    });
                });
            } else {
                window.addEventListener('scroll', () => {
                   const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
                   const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                   const scrolled = (winScroll / height) * 100;
                   document.getElementById("scrollProgress").style.width = scrolled + "%";
                });
            }
            
            const observer = new IntersectionObserver((entries) => { entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('active'); }); }, { threshold: 0.1 });
            document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
        });

        function formatNumber(num) { return parseInt(num).toLocaleString('no-NO').replace(/,/g, ' '); }
        function parseDuration(duration) {
            const match = duration.match(/PT(\d+H)?(\d+M)?(\d+S)?/);
            const hours = (parseInt(match[1]) || 0); const minutes = (parseInt(match[2]) || 0); const seconds = (parseInt(match[3]) || 0);
            return (hours * 3600) + (minutes * 60) + seconds;
        }
        function formatDurationString(seconds) {
            const h = Math.floor(seconds / 3600); const m = Math.floor((seconds % 3600) / 60); const s = seconds % 60;
            const mStr = h > 0 ? m.toString().padStart(2, '0') : m.toString(); const sStr = s.toString().padStart(2, '0');
            return h > 0 ? `${h}:${mStr}:${sStr}` : `${mStr}:${sStr}`;
        }

        // SCROLL FUNCTIONS
        function scrollVideos(amount) { document.getElementById('videoTrack').scrollBy({ left: amount, behavior: 'smooth' }); }
        function scrollShorts(amount) { document.getElementById('shortsContainer').scrollBy({ left: amount, behavior: 'smooth' }); }

        function toggleFaq(el) {
            const answer = el.querySelector('.faq-answer'); const span = el.querySelector('span');
            if(answer.classList.contains('open')) { answer.classList.remove('open'); span.innerText = "+"; } 
            else { document.querySelectorAll('.faq-answer').forEach(a => a.classList.remove('open')); document.querySelectorAll('.faq-question span').forEach(s => s.innerText = "+"); answer.classList.add('open'); span.innerText = "-"; }
        }
        function shareSite() { triggerHaptic(); if (navigator.share) { navigator.share({ title: 'Snorky Site', url: window.location.href }).catch(console.error); } else { alert('Link kopiert!'); } }

        // PARTICLES
        const canvas = document.getElementById('particle-canvas'); const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        let particles = []; const pCount = isMobile ? 25 : 80;
        class Particle {
            constructor() { this.x = Math.random()*canvas.width; this.y = Math.random()*canvas.height; this.vx = (Math.random()-0.5)*0.5; this.vy = (Math.random()-0.5)*0.5; this.size = Math.random()*2; this.color = Math.random()>0.5 ? '#00C2FF':'#FF2E93'; }
            update() { this.x+=this.vx; this.y+=this.vy; if(this.x<0||this.x>canvas.width) this.x=Math.random()*canvas.width; if(this.y<0||this.y>canvas.height) this.y=Math.random()*canvas.height; }
            draw() { ctx.fillStyle=this.color; ctx.globalAlpha=0.5; ctx.beginPath(); ctx.arc(this.x,this.y,this.size,0,Math.PI*2); ctx.fill(); }
        }
        for(let i=0; i<pCount; i++) particles.push(new Particle());
        function animate() { if(settings.particles) { ctx.clearRect(0,0,canvas.width,canvas.height); particles.forEach(p=>{p.update();p.draw();}); } requestAnimationFrame(animate); }
        animate();

        // -----------------------
        // SORTERINGSLOGIKK
        // -----------------------
        
        function sortVideos(mode, category) {
            triggerHaptic();
            
            // Oppdater UI for dropdown selection
            const wrapperId = category === 'long' ? 'videoSort' : 'shortsSort';
            const wrapper = document.getElementById(wrapperId);
            wrapper.querySelectorAll('.custom-option').forEach(opt => {
                if(opt.dataset.value === mode) opt.classList.add('selected');
                else opt.classList.remove('selected');
            });

            // Sorter Data
            let dataToSort = category === 'long' ? [...globalLongVideos] : [...globalShortVideos];
            const titleElem = document.getElementById(category === 'long' ? 'videoHeaderTitle' : 'shortsHeaderTitle');
            
            if (mode === 'views') {
                titleElem.innerText = "Mest Populære";
                dataToSort.sort((a, b) => parseInt(b.statistics.viewCount) - parseInt(a.statistics.viewCount));
            } else if (mode === 'oldest') {
                titleElem.innerText = "Arkivet";
                dataToSort.reverse();
            } else {
                titleElem.innerText = category === 'long' ? "Siste Slipp" : "Shorts";
                dataToSort.sort((a, b) => new Date(b.snippet.publishedAt) - new Date(a.snippet.publishedAt));
            }

            // RE-RENDER OG RESET SCROLL (FIX)
            if(category === 'long') {
                renderVideos(dataToSort, 'videoTrack');
                const track = document.getElementById('videoTrack');
                track.scrollTo({ left: 0, behavior: 'smooth' });
                gsap.fromTo(track, {opacity: 0.5}, {opacity: 1, duration: 0.5});
            } else {
                renderShorts(dataToSort, 'shortsTrack');
                const track = document.getElementById('shortsTrack');
                track.scrollTo({ left: 0, behavior: 'smooth' });
                gsap.fromTo(track, {opacity: 0.5}, {opacity: 1, duration: 0.5});
            }
        }

        // RENDERING FUNKSJONER MED "LAZY LOAD" FEEL
        function renderVideos(videos, trackId) {
            const track = document.getElementById(trackId);
            track.innerHTML = ''; 
            
            // Render de 4 første umiddelbart
            videos.slice(0, 4).forEach(v => track.appendChild(createVideoCard(v)));
            
            // Last resten etter en kort pause for ytelse
            setTimeout(() => {
                videos.slice(4).forEach(v => track.appendChild(createVideoCard(v)));
                
                // --- NYTT: Legg til "Se Mer" kortet helt til slutt ---
                if(trackId === 'videoTrack') {
                    const endCard = document.createElement('div');
                    endCard.className = 'video-card-premium reveal tap-effect active';
                    endCard.setAttribute('tabindex', '0');
                    endCard.style.opacity = 1; endCard.style.transform = 'translateY(0)';
                    endCard.style.justifyContent = 'center'; endCard.style.alignItems = 'center'; endCard.style.textAlign = 'center';
                    endCard.style.background = 'linear-gradient(145deg, #1a1a20, #050505)';
                    endCard.onclick = () => { triggerHaptic(); window.open(`https://www.youtube.com/channel/${CHANNEL_ID}/videos`, '_blank'); };
                    endCard.innerHTML = `<div style="font-size: 3rem; color: var(--snorky-blue); margin-bottom: 20px;"><i class="fab fa-youtube"></i></div><h3 style="color: #fff; margin-bottom: 10px; font-size:1.2rem;">Vil du se mer?</h3><p style="color: #888; font-size: 0.9rem; margin-bottom:20px;">Dette er de 50 siste videoene.</p><div class="btn-ultra">Gå til Kanalen</div>`;
                    track.appendChild(endCard);
                }
                
                // Re-trigger scroll observer for de nye elementene
                const observer = new IntersectionObserver((entries) => { entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('active'); }); }, { threshold: 0.1 });
                document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
            }, 1000);
        }

        function createVideoCard(v) {
            const el = document.createElement('div'); 
            el.className = 'video-card-premium reveal tap-effect active';
            el.setAttribute('tabindex', '0'); // TV-Vennlig: Gjør kortet fokuserbart
            el.style.opacity = 1; el.style.transform = 'translateY(0)';
            el.onclick = () => { triggerHaptic(); window.open(`https://www.youtube.com/watch?v=${v.id}`, '_blank'); };
            el.onkeydown = (e) => { if(e.key === 'Enter') el.click(); }; // TV: Support Enter key
            el.innerHTML = `<div class="premium-thumb-wrapper"><img src="${v.snippet.thumbnails.high.url}" class="premium-thumb" loading="lazy"><div class="premium-play-btn"><i class="fas fa-play"></i></div><div class="duration-badge">${v.durationStr}</div></div><div class="premium-info"><h4 class="premium-title">${v.snippet.title}</h4><div class="premium-stats-grid"><div class="stat-box"><span class="stat-value"><i class="fas fa-eye" style="color:var(--snorky-blue);"></i> ${formatNumber(v.statistics.viewCount)}</span></div><div class="stat-box"><span class="stat-value"><i class="fas fa-thumbs-up" style="color:var(--snorky-pink);"></i> ${formatNumber(v.statistics.likeCount)}</span></div><div class="stat-box"><span class="stat-value"><i class="fas fa-comment"></i> ${v.statistics.commentCount?formatNumber(v.statistics.commentCount):'0'}</span></div></div></div>`;
            return el;
        }

        function renderShorts(videos, trackId) {
            const track = document.getElementById(trackId);
            track.innerHTML = '';
            
            // Render de 5 første shorts umiddelbart
            videos.slice(0, 5).forEach(v => track.appendChild(createShortsCard(v)));
            
            // Resten senere
            setTimeout(() => {
                videos.slice(5).forEach(v => track.appendChild(createShortsCard(v)));
                const observer = new IntersectionObserver((entries) => { entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('active'); }); }, { threshold: 0.1 });
                document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
            }, 1200);
        }

        function createShortsCard(v) {
            const el = document.createElement('div'); 
            el.className = 'shorts-card reveal tap-effect active'; 
            el.setAttribute('tabindex', '0'); // TV-Vennlig
            el.style.opacity = 1; el.style.transform = 'translateY(0)';
            el.onclick = () => { triggerHaptic(); window.open(`https://www.youtube.com/shorts/${v.id}`, '_blank'); };
            el.onkeydown = (e) => { if(e.key === 'Enter') el.click(); };
            el.innerHTML = `<div class="shorts-icon"><i class="fas fa-play" style="color:#fff; font-size:0.8rem;"></i></div><img src="${v.snippet.thumbnails.high.url}" class="shorts-thumb" loading="lazy"><div class="shorts-overlay"><h5 style="font-size:1rem; margin-bottom:5px; line-height:1.2; color:#fff;">${v.snippet.title.substring(0, 50)}...</h5><span style="font-size:0.8rem; color:#ddd;"><i class="fas fa-eye"></i> ${formatNumber(v.statistics.viewCount)}</span></div>`;
            return el;
        }

        // DATA API
        async function loadData() {
            try {
                // Kanal Statistikk
                const chRes = await fetch(`https://www.googleapis.com/youtube/v3/channels?part=statistics&id=${CHANNEL_ID}&key=${API_KEY}`); 
                const chData = await chRes.json();
                if(chData.items) {
                    const s = chData.items[0].statistics;
                    document.getElementById('subCount').innerText = formatNumber(s.subscriberCount); 
                    document.getElementById('viewCount').innerText = formatNumber(s.viewCount); 
                    document.getElementById('videoCount').innerText = s.videoCount;
                    document.getElementById('goalProgress').style.width = `${Math.min((parseInt(s.subscriberCount)/1000)*100, 100)}%`; 
                    document.getElementById('progressText').innerText = `${parseInt(s.subscriberCount)} / 1000`;
                }
                
                // Snorky 2 Data
                try {
                    const ch2Res = await fetch(`https://www.googleapis.com/youtube/v3/channels?part=statistics,snippet&forHandle=${CHANNEL_2_HANDLE}&key=${API_KEY}`); 
                    const ch2Data = await ch2Res.json();
                    if(ch2Data.items && ch2Data.items.length > 0) {
                        const s2 = ch2Data.items[0].statistics; const sn2 = ch2Data.items[0].snippet;
                        document.getElementById('ch2-img').src = sn2.thumbnails.high.url; 
                        document.getElementById('ch2-subs').innerText = formatNumber(s2.subscriberCount); 
                        document.getElementById('ch2-vids').innerText = formatNumber(s2.videoCount);
                    }
                } catch(e) {}

                // FETCHING FLERE SIDER MED VIDEOER
                let allVideoIds = [];
                let nextPageToken = '';
                let pagesFetched = 0;
                const maxPages = 1; // Henter kun 1 side (50 videoer) for å spare kvote

                while (pagesFetched < maxPages) {
                    const searchUrl = `https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&part=id&order=date&maxResults=50&type=video&pageToken=${nextPageToken}`;
                    const searchRes = await fetch(searchUrl);
                    const searchData = await searchRes.json();
                    
                    if(searchData.items) {
                        const ids = searchData.items.map(v => v.id.videoId);
                        allVideoIds = [...allVideoIds, ...ids];
                    }

                    if (searchData.nextPageToken) {
                        nextPageToken = searchData.nextPageToken;
                        pagesFetched++;
                    } else {
                        break; 
                    }
                }

                if(allVideoIds.length > 0) {
                    for (let i = 0; i < allVideoIds.length; i += 50) {
                        const chunk = allVideoIds.slice(i, i + 50).join(',');
                        const statsRes = await fetch(`https://www.googleapis.com/youtube/v3/videos?part=statistics,contentDetails,snippet&id=${chunk}&key=${API_KEY}`); 
                        const statsData = await statsRes.json();
                        
                        if(statsData.items) {
                            statsData.items.forEach(v => { 
                                const d = parseDuration(v.contentDetails.duration); 
                                v.durationStr = formatDurationString(d); 
                                if(d <= 65) {
                                    globalShortVideos.push(v);
                                } else {
                                    globalLongVideos.push(v);
                                }
                            });
                        }
                    }

                    // Rendrer Spotlight
                    if(globalLongVideos.length > 0) {
                        const l = globalLongVideos[0];
                        document.getElementById('spotlightCard').innerHTML = `<div class="news-image-wrapper"><img src="${l.snippet.thumbnails.maxres ? l.snippet.thumbnails.maxres.url : l.snippet.thumbnails.high.url}" class="news-img" loading="lazy"><div class="news-overlay"></div></div><div class="news-content"><div class="news-badge"><span></span> Nyeste Opplasting</div><h3 class="news-title">${l.snippet.title}</h3><p class="news-excerpt">${l.snippet.description.substring(0, 120)}...</p><a href="https://www.youtube.com/watch?v=${l.id}" target="_blank" class="btn-ultra tap-effect" onclick="triggerHaptic()">Se Videoen <i class="fas fa-play" style="font-size:0.8rem;"></i></a></div>`;
                        
                        // --- MARQUEE BAKGRUNN FIKS ---
                        const bg = document.getElementById('marqueeBg');
                        if(bg) { 
                            const topVideos = globalLongVideos.slice(0, 15);
                            let itemsHtml = '';
                            topVideos.forEach(v => {
                                itemsHtml += `<div class="marquee-item"><img src="${v.snippet.thumbnails.high.url}" loading="lazy" style="width:100%;height:100%;object-fit:cover;"></div>`;
                            });

                            // Vi genererer innholdet TO ganger for perfekt loop (Start og slutt må matche for sømløs 50% scroll)
                            const fullRowHtml = itemsHtml + itemsHtml;

                            for(let i=0; i<(isMobile?2:3); i++) { 
                                const row = document.createElement('div'); 
                                row.className = `marquee-row ${i%2===0?'scroll-left':'scroll-right'}`; 
                                row.innerHTML = fullRowHtml; 
                                bg.appendChild(row); 
                            } 
                        }
                    }

                    // Initial Render med Lazy Load feel
                    renderVideos(globalLongVideos, 'videoTrack');
                    renderShorts(globalShortVideos, 'shortsTrack');
                }
            } catch(e) { console.error("API Error", e); }
        }
        loadData();
    </script>
</body>
</html>